<!doctype html>
<html class="no-js" lang="en">
<head>
  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>NYC Metrocard Fare Calculator</title>

  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="">
  <meta name="author" content="">
  <meta name="keywords" content="">
  <meta name="generator" content="JBake">

  <!-- Le styles -->
  
  
  <link href="../../../../css/normalize.css" rel="stylesheet">
  
  <link href="../../../../css/asciidoctor.css" rel="stylesheet">
  
  <link href="../../../../css/base.css" rel="stylesheet">
  
  <link href="../../../../css/main.css" rel="stylesheet">
  
  <link href="../../../../css/prettify.css" rel="stylesheet">
  

  <link rel="apple-touch-icon" sizes="57x57" href="../../../../apple-touch-icon-57x57.png"/>
  <link rel="apple-touch-icon" sizes="60x60" href="../../../../apple-touch-icon-60x60.png"/>
  <link rel="apple-touch-icon" sizes="72x72" href="../../../../apple-touch-icon-72x72.png"/>
  <link rel="apple-touch-icon" sizes="76x76" href="../../../../apple-touch-icon-76x76.png"/>
  <link rel="apple-touch-icon" sizes="114x114" href="../../../../apple-touch-icon-114x114.png"/>
  <link rel="apple-touch-icon" sizes="120x120" href="../../../../apple-touch-icon-120x120.png"/>
  <link rel="apple-touch-icon" sizes="144x144" href="../../../../apple-touch-icon-144x144.png"/>
  <link rel="apple-touch-icon" sizes="152x152" href="../../../../apple-touch-icon-152x152.png"/>
  <link rel="apple-touch-icon" sizes="180x180" href="../../../../apple-touch-icon-180x180.png"/>
  <link rel="icon" type="image/png" href="../../../../favicon-32x32.png" sizes="32x32"/>
  <link rel="icon" type="image/png" href="../../../../android-chrome-192x192.png" sizes="192x192"/>
  <link rel="icon" type="image/png" href="../../../../favicon-96x96.png" sizes="96x96"/>
  <link rel="icon" type="image/png" href="../../../../favicon-16x16.png" sizes="16x16"/>
  <link rel="manifest" href="../../../../manifest.json"/>
  <meta name="msapplication-TileColor" content="#da532c"/>
  <meta name="msapplication-TileImage" content="/mstile-144x144.png"/>
  <meta name="theme-color" content="#ffffff"/>

</head>
<body onload="prettyPrint()">
  <div id="wrap">


		<!-- Fixed navbar -->
    <nav>
      <ul class="navigation">
        <li><a href="../../../../">Home</a></li>
        <li><a href="../../../../about.html">About</a></li>
        <li><a href="../../../../feed.xml">Feed</a></li>
        <li><a href="https://github.com/danhyun" target="_blank"><i class="icon-2x icon-github"></i></a></li>
        <li><a href="https://twitter.com/Lspacewalker" target="_blank"><i class="icon-2x icon-twitter"></i></a></li>
        <li><a href="https://www.linkedin.com/in/danhyun" target="_blank"><i class="icon-2x icon-linkedin"></i></a></li>
      </ul>
    </nav>
    <div class="container">


  <article>
    <div class="page-header">
      <h1>NYC Metrocard Fare Calculator</h1>
      <div class="article-date"><em>18 November, 2013</em></div>
    </div>

    <p><div class="sect1">
<h2 id="tl_dr">tl;dr</h2>
<div class="sectionbody">
<div class="paragraph">
<p>I made a <a href="http://bl.ocks.org/danhyun/raw/7620351">fare calculator</a> that will tell you how much money you should put on your card given your current balance.</p>
</div>
<hr>
<div class="paragraph">
<p>Working in the city means having to travel within the city.
Because the buildings are packed densely, you can choose from a wide array of transportation methods.
Depending on a combination of parameters (distance, weather, $$$) you can choose how you will get from point A to point B.
I&#8217;ve walked, biked, and taken the subway.</p>
</div>
<div class="paragraph">
<p>The subway tends to be a reliable and relatively cheap option that stretches across all five boroughs of the city.
It&#8217;s not a 100% perfect solution but it gets the job done.
There are however a list of grievances with using the subway.
Fare hikes, crazy people, rude people, dirty stations, unplanned downtime are just a few items of note but for a low flat rate it&#8217;s not that bad.</p>
</div>
<div class="paragraph">
<p>With the latest <a href="http://web.mta.info/nyct/fare/FaresatAGlance.htm">fare hike of March 2013</a>, there are a series of changes that prevent you from achieving a $0.00 balance without effort.
You used to be able to walk up to an MTA MetroCard vending machine, feed it $20 and be able to use all of it.
Now when you purchase a new card, it deducts $1 from your $20, applies a 5% bonus to the remaining $19 giving you a total balance of $19.95.
A single subway ride is $2.50, meaning that a balance of $19.95 yields 7 rides.
When those 7 rides are used, the remaining balance is $2.45.
How annoying is that!
That card is useless until you add more money.
So you add another $20 and now your balance is $23.45 (good for 9 rides) which leaves you with a balance of $0.95 after those 9 rides are used.
When are we ever going to have a $0 balance?</p>
</div>
<div class="paragraph">
<p>Unless you enjoy donating $2.45 to the MTA, you&#8217;re going to be holding onto that card.
That card will always have some strange, left-over, unusable balance that will keep haunting you every time you use the subway.
If you hope to zero out your MetroCard simply by adding $20 every time you go to the vending machine, it will never happen.</p>
</div>
<div class="ulist">
<div class="title">The Cycle</div>
<ul>
<li>
<p>Initial $20 has unusable balance of $2.45</p>
</li>
<li>
<p>Another $20 yields $23.45 with unusable balance of $0.95</p>
</li>
<li>
<p>Another $20 yields $21.95 with unusable balance of $1.95</p>
</li>
<li>
<p>Another $20 yields $22.95 with unusable balance of $0.45</p>
</li>
<li>
<p>Another $20 yields $21.45 with unusable balance of $1.45</p>
</li>
<li>
<p>Another $20 yields $22.45 with unusable balance of $2.45</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Oh look at that, you&#8217;re back to a useless $2.45!
The MTA is profiting from the breakage of discarded cards with remaining balances and new card fees.</p>
</div>
<div class="paragraph">
<p>This isn&#8217;t a problem without a solution.
If you take a look at the <a href="http://web.mta.info/metrocard/mcgtreng.htm#payper">fare details</a>, you get the high level view of how an MTA MetroCard vending machine works.
You can only pay in increments of $0.05, any amount paid over $5 has a 5% bonus, and you must subtract $1 from the pre-bonus amount paid if the card you are crediting is a new card.</p>
</div>
<div class="paragraph">
<p>So in regards to the initial $2.45 remaining balance you could quickly zero your card out by adding $0.05.
However, you wouldn&#8217;t be "benefiting" from the 5% bonus for payments over $5.</p>
</div>
<div class="paragraph">
<p>With these simple rules, I made a <a href="http://http://bl.ocks.org/danhyun/raw/7620351">fare calculator</a> using a small bit of javascript, that will tell you how much money you should put on your card given your current balance.</p>
</div>
<div class="paragraph">
<p>Here&#8217;s the source:</p>
</div>
<div class="listingblock">
<div class="title">fare-calc.html</div>
<div class="content">
<pre class="prettyprint highlight"><code class="language-html" data-lang="html">&lt;!doctype html&gt;
&lt;html lang="en"&gt;
&lt;head&gt;
  &lt;meta charset="utf-8"&gt;
  &lt;title&gt;MTA Fare Calculator&lt;/title&gt;
  &lt;link rel="stylesheet" href="http://netdna.bootstrapcdn.com/bootstrap/3.0.2/css/bootstrap.min.css"&gt;
&lt;/head&gt;
&lt;body&gt;
&lt;div class="container"&gt;
  &lt;div class="header"&gt;
    &lt;h3&gt;MTA Fare Calculator&lt;/h3&gt;
  &lt;/div&gt;
  &lt;form class="form-horizontal" role="form"&gt;
    &lt;div class="form-group"&gt;
      &lt;div class="col-sm-offset-2 col-sm-10"&gt;
        &lt;div class="radio"&gt;
          &lt;label&gt;&lt;input type="radio" name="cardType" value="new" checked&gt; New Card ($1.00 fee)&lt;/label&gt;
        &lt;/div&gt;
      &lt;/div&gt;
    &lt;/div&gt;

    &lt;div class="form-group"&gt;
      &lt;div class="col-sm-offset-2 col-sm-10"&gt;
        &lt;div class="radio"&gt;
          &lt;label&gt;&lt;input type="radio" name="cardType" value="existing"&gt; Existing Card&lt;/label&gt;
        &lt;/div&gt;
      &lt;/div&gt;
    &lt;/div&gt;

    &lt;div class="form-group"&gt;
      &lt;label for="existingBalance" class="col-sm-2 control-label"&gt;Existing balance&lt;/label&gt;
      &lt;div class="col-sm-10"&gt;
        &lt;input id="existingBalance" name="existingBalance" class="form-control" type="number" placeholder="Existing balance" disabled value="0" min=0 max=1000 step=0.01&gt;
      &lt;/div&gt;
    &lt;/div&gt;

    &lt;div class="form-group"&gt;
      &lt;div class="col-sm-offset-2 col-sm-10"&gt;
        &lt;button class="btn btn-primary" type="submit"&gt;Calculate&lt;/button&gt;
      &lt;/div&gt;
    &lt;/div&gt;

  &lt;/form&gt;

  &lt;div class="row"&gt;
    &lt;div class="col-sm-offset-2 col-sm-10"&gt;
      &lt;table class="table table-condensed table-hover"&gt;
        &lt;thead&gt;&lt;tr&gt;&lt;th&gt;You should pay&lt;/th&gt;&lt;th&gt;With Bonus&lt;/th&gt;&lt;th&gt;For Balance&lt;/th&gt;&lt;th&gt;Number of rides&lt;/th&gt;&lt;/tr&gt;&lt;/thead&gt;
        &lt;tbody&gt;&lt;/tbody&gt;
      &lt;/table&gt;
    &lt;/div&gt;
  &lt;/div&gt;
&lt;/div&gt;

&lt;script src="https://code.jquery.com/jquery.min.js"&gt;&lt;/script&gt;
&lt;script&gt;
  (function() {

    var baseFare = 2.50;
    var newCardFee = 1.00;
    var minAmountForBonus=5;
    var bonus=0.05;
    var machineIncrements = 0.05;

    var cash = function(credit, existing) {
      existing = isNaN(existing) ? 0 : parseFloat(existing);
      var amountBonus = 0;
      if (credit &gt;= minAmountForBonus) {
        amountBonus = parseFloat((credit * bonus).toFixed(2));
      }
      var newBalance = credit + amountBonus + existing;
      return  {
        whatToPay: credit,
        bonus: amountBonus,
        balance: newBalance
      };
    };

    $('body').on('submit', 'form', function(e) {
      e.preventDefault();

      var form = $(this).serialize().split("&amp;");

      var existingBalance = $('#existingBalance:not([disabled])').val() || 0;

      var isNewCard = $('input[name="cardType"]:checked').val() === 'new';

      var tbody = $('tbody').empty();

      var amount = machineIncrements;
      var i = 0;
      while (amount &lt; 120) {
        var credit = parseFloat((i++ * machineIncrements).toFixed(2));
        var card = cash(credit, existingBalance);
        var amount = card.whatToPay;
        if (isNewCard) {
          amount += 1;
        }

        if (amount &gt; 0) {
          var trips = parseFloat(card.balance.toFixed(2)) / baseFare;
          if (trips &gt; 0 &amp;&amp; trips % 1 === 0) {
            var contents = ['$' + amount.toFixed(2), '$' + card.bonus.toFixed(2), '$' + card.balance.toFixed(2), trips].join('&lt;/td&gt;&lt;td&gt;');
            tbody.append(['&lt;tr&gt;&lt;td&gt;', contents, '&lt;/td&gt;&lt;/tr&gt;'].join(''));
          }
        }
      }
    });

    $('body').on('change', 'input[name="cardType"]', function() {
      var existing = this.value ==='existing';

      if (existing &amp;&amp; $(this).is(':checked')) {
        $('#existingBalance').removeAttr('disabled').focus();
      } else {
        $('#existingBalance').attr('disabled', true);
      }

    });

  })();
&lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>If you plan on traveling frequently within a given week or month, there are additional ways to optimize your MTA expenditure. The 7 day unlimited is $30 and the 30 day unlimited is $112. If you find yourself paying more than these amounts on your card you should consider getting an unlimited card if your card is going to be used very frequently.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="notes">Notes</h2>
<div class="sectionbody">
<div class="paragraph">
<p>As I was testing my fare calculator, I assumed that the MTA would simply truncate values after the hundredth&#8217;s place.
It turns out they are rounding to the nearest hundredth place, so at least the bonus calculation is fair.</p>
</div>
</div>
</div></p>
  </article>

	<hr />

  <div id="disqus_thread"></div>
  <script type="text/javascript">
    var disqus_shortname = 'hyunlabs';
    (function() {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
  </script>
  <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a></noscript>

		</div>
		<div id="push"></div>
    </div>

    <footer id="footer">
      <div class="container">
        <p class="muted credit">&copy; 2013-2015 | Baked with <a href="http://jbake.org">JBake v2.3.2</a></p>
      </div>
    </footer>

    <!-- Le javascript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="../../../../js/jquery-1.11.1.min.js"></script>
    <script src="../../../../js/prettify.js"></script>
    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
          (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
      ga('create', 'UA-22599661-1', 'auto');
      ga('send', 'pageview');
    </script>

  </body>
</html>

